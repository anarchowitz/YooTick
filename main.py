import disnake
from disnake.ext import commands
from database import Database
from tickets import setuptickets
from commands import setupcommands
from fastcommands import setupfastcommands

intents = disnake.Intents.default() 
intents.message_content = True
version = "3.0"
bot = commands.Bot(command_prefix="/", intents=intents, activity=disnake.Activity(type=disnake.ActivityType.streaming, name=f"yooma.su | v{version}"))

db = Database("database.db")


@bot.event
async def on_ready():
    print(f"–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω / {bot.user}\n_________________")
    db.create_price_list_table()
    db.create_settings_table()
    db.create_staff_list_table()
    db.create_created_tickets_table()
    db.create_date_stats_table()
    db.create_fast_commands_table()
    db.create_banned_users_table()
    db.cursor.execute("SELECT 1 FROM fast_commands LIMIT 1")
    if not db.cursor.fetchone():
        default_commands = [
    ('—Å–∫–∏–Ω—Ä–µ–π–≤', '–§–æ—Ä–º–∞ –≤—ã–¥–∞—á–∏ —Ç–æ–∫–µ–Ω–æ–≤ –∑–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –Ω–∞ —Å–∫–∏–Ω—Ä–µ–π–≤–µ', '–ß—Ç–æ –±—ã –º—ã –≤–∞–º –ø–æ–º–æ–≥–ª–∏, —É—Ç–æ—á–Ω–∏—Ç–µ.\n1) –ö–∞–∫ –¥–∞–≤–Ω–æ –≤—ã –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–∏—Å—å –Ω–∞ SkinRave?\n2) –ê–≤—Ç–æ—Ä–∏–∑–∏—Ä–æ–≤–∞–ª–∏—Å—å –ª–∏ –≤—ã –ø–æ–¥ —Å–≤–æ–∏–º Steam –∞–∫–∫–∞—É–Ω—Ç–æ–º?\n3) –°—Å—ã–ª–∫–∞ –Ω–∞ –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ —Å–∞–π—Ç–µ (yooma.su)\n4) –°–∫—Ä–∏–Ω—à–æ—Ç –ø—Ä–æ—Ñ–∏–ª—è –Ω–∞ SkinRave. \n\n-# –û—Ç–ø—Ä–∞–≤–∏–ª - {author}'),
    ('–∞–¥–º–∏–Ω—á–∞—Ç', '–§–æ—Ä–º–∞ –æ –∫—Ä–∞—Ç–∫–æ–º –≥–∞–π–¥–µ –ø–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—é —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –∞–¥–º–∏–Ω—á–∞—Ç –∫—Å2', '–ß—Ç–æ–±—ã –Ω–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∞–¥–º–∏–Ω-—á–∞—Ç.\n1) –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–º–∞–Ω–¥–Ω—ã–π —á–∞—Ç –≤ –∏–≥—Ä–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∫–ª–∞–≤–∏—à–∞ "U").\n2) –ù–∞—á–Ω–∏—Ç–µ —Å–≤–æ—ë —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Å–∏–º–≤–æ–ª–∞ @\n–ù–∞–ø—Ä–∏–º–µ—Ä: @–ü—Ä–∏–≤–µ—Ç \n\n-# –û—Ç–ø—Ä–∞–≤–∏–ª - {author}'),
    ('—Å—Å—ã–ª–∫–∞—Å–∞–π—Ç', '–§–æ—Ä–º–∞ –æ –∫—Ä–∞—Ç–∫–æ–º –≥–∞–π–¥–µ –ø–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—é –ª–∏—á–Ω–æ–π —Å—Å—ã–ª–∫–∏ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å —Å–∞–π—Ç–∞', '–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –≤–∞—à –ø—Ä–æ—Ñ–∏–ª—å –Ω–∞ —Å–∞–π—Ç–µ, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:\n1) –°–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ —Å–≤–æ–π –Ω–∏–∫ –∏ –∞–≤–∞—Ç–∞—Ä–∫—É (–Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å–ø—Ä–∞–≤–∞ –æ—Ç –±–∞–ª–∞–Ω—Å–∞).\n2) –í –ø–æ—è–≤–∏–≤—à–µ–º—Å—è –º–µ–Ω—é –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å".\n3) –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Å—ã–ª–∫—É –∏–∑ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–∏. \n\n-# –û—Ç–ø—Ä–∞–≤–∏–ª - {author}'),
    ('–æ–±–Ω–æ–≤–∞', '–§–æ—Ä–º–∞ –æ —Ç–æ–º, —á—Ç–æ –≤—ã—à–ª–∞ –æ–±–Ω–æ–≤–∞ –≤ –∫—Å –∏ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω—ã', '–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ CS2 —Å–ª–æ–º–∞–ª–æ —Ä–∞–±–æ—Ç—É —Å–µ—Ä–≤–µ—Ä–æ–≤. –ù—É–∂–Ω–æ –≤—Ä–µ–º—è, —á—Ç–æ–±—ã —Ä–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –∏ –±–∞–≥–∏. –°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–Ω–∏–º–∞–Ω–∏–µ üíï \n\n-# –û—Ç–ø—Ä–∞–≤–∏–ª - {author}'),
    ('–∂–∞–ª–æ–±–∞', '–§–æ—Ä–º–∞ –æ —Ç–æ–º, —á—Ç–æ –∂–∞–ª–æ–±–∞ –ø–µ—Ä–µ–¥–∞–Ω–∞ –≤ –∞–¥–º–∏–Ω —á–∞—Ç', '–°–ø–∞—Å–∏–±–æ! –ü–µ—Ä–µ–¥–∞–ª–∏ –≤–∞—à–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏! \n\n-# –û—Ç–ø—Ä–∞–≤–∏–ª - {author}'),
    ('–±–∞–≥', '–§–æ—Ä–º–∞ –æ —Ç–æ–º, —á—Ç–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–∞–≥–µ - –ø–µ—Ä–µ–¥–∞–Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É', '–°–ø–∞—Å–∏–±–æ! –ü–µ—Ä–µ–¥–∞–ª–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É! \n\n-# –û—Ç–ø—Ä–∞–≤–∏–ª - {author}'),
    ('–∫–æ–∏–Ω—ã', '–§–æ—Ä–º–∞ –æ —Ç–æ–º, —á—Ç–æ –¥–µ–ª–∞—Ç—å —Å –∫–æ–∏–Ω–∞–º–∏', '–ö–æ–∏–Ω—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö.\n–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –∏—Ö –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É !shop –Ω–∞ –ª—é–±–æ–º —Å–µ—Ä–≤–µ—Ä–µ –ø—Ä–æ–µ–∫—Ç–∞. \n\n-# –û—Ç–ø—Ä–∞–≤–∏–ª - {author}'),
    ('—Å–æ—Ü—Å–µ—Ç–∏', '–§–æ—Ä–º–∞ –æ –Ω–∞—à–∏—Ö —Å–æ—Ü—Å–µ—Ç—è—Ö', '–í—Å–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –Ω–∞—à–∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Å–æ—Ü. —Å–µ—Ç–∏:\n\nDiscord: <https://ds.yooma.su>\nTelegram: <https://t.me/yoomasu>\n–í–ö–æ–Ω—Ç–∞–∫—Ç–µ: <https://vk.com/yoomasu>\n\n-# –û—Ç–ø—Ä–∞–≤–∏–ª - {author}'),
    ('–ø—Ä–æ–º–æ–≤–≤–æ–¥', '–§–æ—Ä–º–∞ –æ —Ç–æ–º, –∫–∞–∫ –≤–≤–µ—Å—Ç–∏ –ø—Ä–æ–º–æ–∫–æ–¥.', '–ß—Ç–æ–±—ã –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥, –≤–∞–º –Ω—É–∂–Ω–æ –Ω–∞–∂–∞—Ç—å –Ω–∞ —Å–≤–æ—é –∞–≤–∞—Ç–∞—Ä–∫—É –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É —Å–∞–π—Ç–∞ –∏ –≤—ã–±—Ä–∞—Ç—å "–≤–≤–µ—Å—Ç–∏ –ø—Ä–æ–º–æ–∫–æ–¥".\n\n-# –û—Ç–ø—Ä–∞–≤–∏–ª - {author}'),
    ('–±–ª–µ–∫–¥–∂–µ–∫', '–§–æ—Ä–º–∞ –æ —Ç–æ–º, –∫–∞–∫ –∏–≥—Ä–∞—Ç—å –≤ –±–ª–µ–∫–¥–∂–µ–∫.', '–ß—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –∏–≥—Ä—É, –≤–∞–º –Ω—É–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å –∫–æ–º–∞–Ω–¥—É !bj –≤ —á–∞—Ç –∏–≥—Ä—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ\n–ü–æc–ª–µ —ç—Ç–æ–≥–æ –≤ —á–∞—Ç–µ –ø–æ—è–≤–∏—Ç—Å—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –∏–≥—Ä—É. –í–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–¥–µ–ª–∏—Ç—å –µ–µ –º—ã—à–∫–æ–π –∏ –Ω–∞–∂–∞—Ç—å –ü–ö–ú, –∑–∞—Ç–µ–º "–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç".\n–î–∞–ª–µ–µ –∑–∞–π—Ç–∏ –≤ –æ–±—ã—á–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä (–∏–ª–∏ –≤ Steam –±—Ä–∞—É–∑–µ—Ä) –∏ –≤–≤–µ—Å—Ç–∏ —ç—Ç—É —Å—Å—ã–ª–∫—É —Ç—É–¥–∞, –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –∏–≥—Ä–∞\n\n-# –û—Ç–ø—Ä–∞–≤–∏–ª - {author}')
]
        db.cursor.executemany(
            "INSERT INTO fast_commands (command_name, description, response) VALUES (?, ?, ?)",
            default_commands
        )
        db.conn.commit()
        print("–ò–º–ø–æ—Ä—Ç–µ–¥ –¥–µ—Ñ–∞—É–ª—Ç —Ñ–∞—Å—Ç –∫–æ–º–º–∞–Ω–¥—Å –µ–ø—Ç–∞")

if __name__ == "__main__":
    setuptickets(bot)
    setupcommands(bot)
    setupfastcommands(bot)
    bot.run("MTI3Mzk1NzgzNTI1MTc4MTY0Mg.GgCwOB.0z4FATO1eYK1d7uoDQxTI6ZBrbfS85x-rCghrc") 